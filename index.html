<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Tally Product Monsters</title>
<style>


#monster { width: 500px; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }

/* CSS animation */
.monster-sprite {
	width: 1500px; height: 400px;
	background: url('') left center no-repeat;
	animation: monster-keyframes 0.4s steps(3) infinite;
}
@keyframes monster-keyframes {
	100% { background-position: -1500px; }
}
#monster {cursor: none;}


</style>
</head>
<body>

<div id="monster" class="monster-sprite"></div>


<script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
<script type="text/javascript" src="monster-data.js"></script>
<script>

var monsters = monster_data;

/**
 * Generate sprites from Photoshop: https://www.johnwordsworth.com/projects/photoshop-sprite-sheet-generator-script/
 */

var colors = [
	"75ec57",
	"6050f4",
	"a295f5",
	"6050f4",
	"d83e3f",
	"b5851f",
	"d83e3f",
	"71cdb7",
	"6a44ad"
];


$(document).ready(function(){

	var randomObjProperty = function (obj) {
		var keys = Object.keys(obj)
		return obj[keys[ keys.length * Math.random() << 0]];
	};

	function changeBackground(){

		// pick random monster
		var rm = randomObjProperty(monsters);
		// set monster img
		$('.monster-sprite').css('background-image','url( spritesheets/'+ rm.name +'-sheet.png');

		// pick random color
		var bg = colors[ Math.floor(Math.random()*colors.length) ];
		// change color of background
		$('body').css('background', '#'+bg );
	}


	var timer  = setInterval(changeBackground, 1500);

	changeBackground();



});

</script>
</body>
</html>